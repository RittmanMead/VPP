var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=e.webkitRequestFileSystem,s=e.requestFileSystem||a||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",f=0,d=500,l=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},p=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){c(i)}}},v=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["",e],{type:e.type}):e},w=function(t,c,d){d||(t=v(t));var w,y,m,b=this,h=t.type,g=!1,R=function(){p(b,"writestart progress write writeend".split(" "))},S=function(){if((g||!w)&&(w=n().createObjectURL(t)),y)y.location.href=w;else{var o=e.open(w,"_blank");void 0==o&&"undefined"!=typeof safari&&(e.location.href=w)}b.readyState=b.DONE,R(),l(w)},O=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},D={create:!0,exclusive:!1};return b.readyState=b.INIT,c||(c="download"),r?(w=n().createObjectURL(t),o.href=w,o.download=c,void setTimeout(function(){i(o),R(),l(w),b.readyState=b.DONE})):(e.chrome&&h&&h!==u&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,u),g=!0),a&&"download"!==c&&(c+=".download"),(h===u||a)&&(y=e),s?(f+=t.size,void s(e.TEMPORARY,f,O(function(e){e.root.getDirectory("saved",D,O(function(e){var n=function(){e.getFile(c,D,O(function(e){e.createWriter(O(function(n){n.onwriteend=function(t){y.location.href=e.toURL(),b.readyState=b.DONE,p(b,"writeend",t),l(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&S()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=b["on"+e]}),n.write(t),b.abort=function(){n.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),S)}),S)};e.getFile(c,{create:!1},O(function(e){e.remove(),n()}),O(function(e){e.code===e.NOT_FOUND_ERR?n():S()}))}),S)}),S)):void S())},y=w.prototype,m=function(e,t,n){return new w(e,t,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=v(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(y.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(e){"use strict";var t,n=e.Uint8Array,o=e.HTMLCanvasElement,r=o&&o.prototype,i=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",s=function(e){for(var o,r,i,a=e.length,s=new n(a/4*3|0),c=0,u=0,f=[0,0],d=0,l=0;a--;)r=e.charCodeAt(c++),o=t[r-43],255!==o&&o!==i&&(f[1]=f[0],f[0]=r,l=l<<6|o,d++,4===d&&(s[u++]=l>>>16,61!==f[1]&&(s[u++]=l>>>8),61!==f[0]&&(s[u++]=l),d=0));return s};n&&(t=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),o&&!r.toBlob&&(r.toBlob=function(e,t){if(t||(t="image/png"),this.mozGetAsFile)return void e(this.mozGetAsFile("canvas",t));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(t))return void e(this.msToBlob());var o,r=Array.prototype.slice.call(arguments,1),c=this[a].apply(this,r),u=c.indexOf(","),f=c.substring(u+1),d=i.test(c.substring(0,u));Blob.fake?(o=new Blob,o.encoding=d?"base64":"URI",o.data=f,o.size=f.length):n&&(o=d?new Blob([s(f)],{type:t}):new Blob([decodeURIComponent(f)],{type:t})),e(o)},r.toBlobHD=r.toDataURLHD?function(){a="toDataURLHD";var e=this.toBlob();return a="toDataURL",e}:r.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);